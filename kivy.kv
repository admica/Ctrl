<Img@Image>:
    center_x: self.parent.center_x
    center_y: self.parent.center_y
    allow_stretch: False

<Butt@Button>:
    font_size: 28
    color: 0.95, 0.95, 0.95, 1.0
    size_hint: (.124,None)
    height: self.width

<RootWidget>:
    ww: (root.width/8.0)
    hh: (root.height/5.0)

    offw: (root.width/8.0)/10.0
    offh: (root.height/5.0)/10.0

    ScreenManager:
        id: _screen_manager
        Screen:
            name: "screen1"
            Label:
                id: label_host
                text: "Host:"
                font_size: 25
                size_hint: (.25,None)
                height: 50
                pos: root.ww, root.hh*3

            TextInput:
                id: input_host
                text: root.host
                font_size: 25
                size_hint: (.25,None)
                height: 50
                pos: root.ww+label_host.width, root.hh*3
                on_text: self.cb_label_host_text(self.text)

            Label:
                id: label_port
                text: "Port:"
                font_size: 25
                size_hint: (.25,None)
                height: 50
                pos: root.ww, root.hh*2

            TextInput:
                id: input_port
                text: str(root.port)
                font_size: 25
                size_hint: (.25,None)
                height: 50
                pos: root.ww+label_host.width, root.hh*2
                on_text: self.cb_label_host_text(self.text)

            Button:
                id: button_connect
                text: "Connect"
                size_hint: (.5,None)
                pos: root.ww, root.hh*1
                on_press: _screen_manager.current = 'screen2'

        Screen:
            name: "screen2"
            Button:
                markup: True
                text: "[size=24]Connecting to %s:%s[/size]" % (root.host, root.port)
                on_press: _screen_manager.current = 'screen3'

        Screen:
            name: "screen3"
            canvas:
                Rectangle:
                    pos: self.pos
                    size: self.size
                    source: "images/bg.png"
            Butt:
                id: b1
                text: "H1"
                pos: root.ww*0, root.height-root.hh*3
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("f1")
            Butt:
                id: b2
                text: "H2"
                pos: root.ww*1, root.height-root.hh*3
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("f2")
            Butt:
                id: b3
                text: "H3"
                pos: root.ww*2, root.height-root.hh*3
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("f3")
            Butt:
                id: b4
                text: "H4"
                pos: root.ww*3, root.height-root.hh*3
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("f4")
            Butt:
                id: b5
                text: "H5"
                pos: root.ww*4, root.height-root.hh*3
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("f5")
            Butt:
                id: b6
                text: "H6"
                pos: root.ww*5, root.height-root.hh*3
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("f6")
            Butt:
                id: b7
                text: "H7"
                pos: root.ww*6, root.height-root.hh*3
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("f7")
            Butt:
                id: b8
                text: "H8"
                pos: root.ww*7, root.height-root.hh*3
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("f8")
            Butt:
                id: b9
                text: "M1"
                pos: root.ww*0, root.height-root.hh*4
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("shift-f1")
            Butt:
                id: b10
                text: "M2"
                pos: root.ww*1, root.height-root.hh*4
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("shift-f2")
            Butt:
                id: b11
                text: "M3"
                pos: root.ww*2, root.height-root.hh*4
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("shift-f3")
            Butt:
                id: b12
                text: "M4"
                pos: root.ww*3, root.height-root.hh*4
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("shift-f4")
            Butt:
                id: b13
                text: "M5"
                pos: root.ww*4, root.height-root.hh*4
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("shift-f5")
            Butt:
                id: b14
                text: "M6"
                pos: root.ww*5, root.height-root.hh*4
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("shift-f6")
            Butt:
                id: b15
                text: "M7"
                pos: root.ww*6, root.height-root.hh*4
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("shift-f7")
            Butt:
                id: b16
                text: "M8"
                pos: root.ww*7, root.height-root.hh*4
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("shift-f8")
            Butt:
                id: b17
                text: "L1"
                pos: root.ww*0, root.height-root.hh*5
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("alt-f1")
            Butt:
                id: b18
                text: "L2"
                pos: root.ww*1, root.height-root.hh*5
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("alt-f2")
            Butt:
                id: b19
                text: "L3"
                pos: root.ww*2, root.height-root.hh*5
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("alt-f3")
            Butt:
                id: b20
                text: "L4"
                pos: root.ww*3, root.height-root.hh*5
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("alt-f4")
            Butt:
                id: b21
                text: "L5"
                pos: root.ww*4, root.height-root.hh*5
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("alt-f5")
            Butt:
                id: b22
                text: "L6"
                pos: root.ww*5, root.height-root.hh*5
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("alt-f6")
            Butt:
                id: b23
                text: "L7"
                pos: root.ww*6, root.height-root.hh*5
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("alt-f7")
            Butt:
                id: b24
                text: "L8"
                pos: root.ww*7, root.height-root.hh*5
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                on_press: root.cb_press("alt-f8")
            Butt:
                id: b25
                text: "Orbit"
                font_size: 23
                pos: root.ww*0+root.offw*1, root.height-root.hh*1-root.offh*1.3
                background_normal: "./images/arcade_blue1.png"
                background_down: "./images/arcade_blue2.png"
                size_hint: (.142,None)
                height: self.width
                on_press: root.cb_press("q")
            Butt:
                id: b26
                text: "Range"
                font_size: 23
                pos: root.ww*1+root.ww/10*2, root.height-root.hh*1-root.offh*1.3
                background_normal: "./images/arcade_blue1.png"
                background_down: "./images/arcade_blue2.png"
                size_hint: (.142,None)
                height: self.width
                on_press: root.cb_press("w")
            Butt:
                id: b27
                text: "Align"
                font_size: 23
                pos: root.ww*2+root.offw*3, root.height-root.hh*1-root.offh*1.3
                background_normal: "./images/arcade_blue1.png"
                background_down: "./images/arcade_blue2.png"
                size_hint: (.142,None)
                height: self.width
                on_press: root.cb_press("e")
            Butt:
                id: b28
                text: "Warp"
                font_size: 23
                pos: root.ww*3+root.offw*4, root.height-root.hh*1-root.offh*1.3
                background_normal: "./images/arcade_yellow1.png"
                background_down: "./images/arcade_yellow2.png"
                size_hint: (.142,None)
                height: self.width
                on_press: root.cb_press("d")
            Butt:
                id: b29
                text: "Primary"
                font_size: 16
                pos: root.ww*5-root.offw, root.height-root.hh*2-root.offh
                background_normal: "./images/arcade_orange1.png"
                background_down: "./images/arcade_orange2.png"
                size_hint: (.133,None)
                height: self.width
                on_press: root.cb_press("ctrl-o")
            Butt:
                id: b30
                text: "Second"
                font_size: 16
                pos: root.ww*6-root.offw/2, root.height-root.hh*2-root.offh
                background_normal: "./images/arcade_orange1.png"
                background_down: "./images/arcade_orange2.png"
                size_hint: (.133,None)
                height: self.width
                on_press: root.cb_press("ctrl-p")
            Butt:
                id: b31
                text: "Shield"
                font_size: 18
                pos: root.ww*5-root.offw, root.height-root.hh*1-root.offh*1.3
                background_normal: "./images/arcade_purple1.png"
                background_down: "./images/arcade_purple2.png"
                size_hint: (.133,None)
                height: self.width
                on_press: root.cb_press("x")
            Butt:
                id: b32
                text: "Armor"
                font_size: 18
                pos: root.ww*6-root.offw/2, root.height-root.hh*1-root.offh*1.3
                background_normal: "./images/arcade_purple1.png"
                background_down: "./images/arcade_purple2.png"
                size_hint: (.133,None)
                height: self.width
                on_press: root.cb_press("y")
            Butt:
                id: b33
                text: "Engage"
                font_size: 16
                pos: root.ww*0+root.offw*6.5, root.height-root.hh*2
                background_normal: "./images/arcade_red1.png"
                background_down: "./images/arcade_red2.png"
                size_hint: (.11,None)
                height: self.width
                on_press: root.cb_press("alt-1")
            Butt:
                id: b34
                text: "Orbit"
                font_size: 16
                pos: root.ww*1+root.offw*6, root.height-root.hh*2
                background_normal: "./images/arcade_green1.png"
                background_down: "./images/arcade_green2.png"
                size_hint: (.11,None)
                height: self.width
                on_press: root.cb_press("alt-2")
            Butt:
                id: b35
                text: "Bay"
                font_size: 16
                pos: root.ww*2+root.offw*5.5, root.height-root.hh*2
                background_normal: "./images/arcade_green1.png"
                background_down: "./images/arcade_green2.png"
                size_hint: (.11,None)
                height: self.width
                on_press: root.cb_press("alt-3")
            Butt:
                id: b36
                text: "Undock"
                font_size: 16
                pos: root.ww*7-root.offw/3, root.height-root.hh*1.5-root.offh-root.offh
                background_normal: "./images/arcade_grey1.png"
                background_down: "./images/arcade_grey2.png"
                on_press: root.cb_press("ctrl-x")
         
